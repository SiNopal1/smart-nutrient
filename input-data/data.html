<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Nutrient - Enter basic information</title>
    <link rel="stylesheet" href="../bootstrap.min.css">
    <style>
        a:link {
            text-decoration: none;
            color: inherit;
        }

        a:visited {
            text-decoration: none;
            color: inherit;
        }

        a:hover {
            text-decoration: none;
            color: inherit;
        }

        a:active {
            text-decoration: none;
            color: inherit;
        }

        .line-height {
            line-height: 1.5;
        }
    </style>
</head>

<body>
    <form class="">
        <!--   
                  
        Nama
        <div class="form-floating m-3">
            <input type="text" class="form-control" id="namaPanjang" placeholder="Nama Panjang">
            <label for="namaPanjang">Nama Panjang</label>
        </div>

        Nickname
        <div class="form-floating m-3">
            <input type="text" class="form-control" id="username" placeholder="Username">
            <label for="username">Username</label>
        </div> 

        -->

        <b>
            <h2 class="m-3">
                Please input the data.
            </h2>
        </b>

        <!-- Weight -->
        <div class="form-floating m-3">
            <input type="text" class="form-control" id="beratBadan" placeholder="Berat Badan">
            <label for="beratBadan">Weight (kg)</label>
        </div>

        <!-- Height -->
        <div class="form-floating m-3">
            <input type="text" class="form-control" id="tinggiBadan" placeholder="Tinggi Badan">
            <label for="tinggiBadan">Height (cm)</label>
        </div>

        <!-- Age -->
        <div class="form-floating m-3">
            <input type="text" class="form-control" id="usia" placeholder="Usia">
            <label for="usia">Age (years)</label>
        </div>

        <!-- Jenis kelamin -->
        <select class="form-select m-3" aria-label=".form-select example" style="width: 95.5%;" id="gender">
            <option value="" selected>Gender</option>
            <option value="0">Male</option>
            <option value="1">Female</option>
        </select>

        <!-- Submit -->
        <center>
            <button class="btn btn-primary" onclick="storeData()">Continue</button>
        </center>

        <!-- Script -->
        <script>
            var test = localStorage.getItem("target")
            if(!test){
                console.log("User ini login untuk pertama kalinya")
            } else {
                location.href = "../menu/menu.html"
            }

            var error = "Don't forget to input "
            var isFirst = true

            function storeData(){
                event.preventDefault()

                weight = document.getElementById("beratBadan").value
                height = document.getElementById("tinggiBadan").value
                age = document.getElementById("usia").value
                gender = document.getElementById("gender").value

                console.log(weight)
                console.log(height)
                console.log(age)
                console.log(gender)

                if(!weight || !height || !age || !gender){
                    if(!weight){
                        error += "weight"
                        isFirst = false
                    }
                    if(!height){
                        if(isFirst){
                            error += "weight"
                            isFirst = false
                        } else {
                            error += ", weight"
                        }
                    }
                    if(!age){
                        if(isFirst){
                            error += "age"
                            isFirst = false
                        } else {
                            error += ", age"
                        }
                    }
                    if(!gender){
                        if(isFirst){
                            error += "gender"
                            isFirst = false
                        } else {
                            error += ", gender"
                        }
                    }
                    alert(error)

                    return 0
                }

                localStorage.setItem("weight", weight)
                localStorage.setItem("height", height)
                localStorage.setItem("age", age)
                localStorage.setItem("gender", gender)

                location.href = 'data-2.html';

            }

            
        </script>
    </form>
</body>

</html>